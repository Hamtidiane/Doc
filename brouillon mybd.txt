 SELECT c.name AS nomColonne, t.name AS nomTable
FROM sys.columns c
 JOIN sys.tables t ON c.object_id = t.object_id
WHERE c.name LIKE '%nomDeLaColonne%'



SELECT *
FROM seance
WHERE date >= DATE_SUB(CURRENT_DATE(), INTERVAL 10 DAY);


SELECT *
FROM role
WHERE id_acteurs = 16 OR id_acteurs = 12;
JOIN seance 


UPDATE Acteurs
SET nom = 'allen', prenom = 'karen', datNaiss = '1951-10-05', nationalite = 'Americaine', specialite = 'Actrice'
WHERE idActeurs = 18;

SELECT DISTINCT s.numero AS salles
    -> FROM salles s
    -> JOIN seance se ON s.idsalles = se.salles_idsalles
    -> JOIN films f ON se.films_id_film = f.id_film
    -> JOIN role r ON f.id_film = r.films_id_film
    -> JOIN cteurs a ON r.Acteurs_idActeurs = a.idActeurs
    -> WHERE a.nom IN ('Willis', 'Ford') OR a.prenom IN ('Bruce', 'Harrison');
    
    
    SELECT DISTINCT s.numero AS salles
FROM salles s
JOIN seance se ON s.idsalles = se.salles_idsalles
JOIN films f ON se.films_id_film = f.id_film
JOIN role r ON f.id_film = r.films_id_film
JOIN Acteurs a ON r.Acteurs_idActeurs = a.idActeurs
WHERE a.nom IN ('Willis', 'Ford') OR a.prenom IN ('Bruce', 'Harrison');



   SELECT SUM(nbrePla) AS total_places
     FROM salles s
     JOIN Cinema c ON s.cinema = c.idCinema 
     WHERE nom = 'Megarama';
     
     
     SELECT DISTINCT f.titre AS film
FROM films f
JOIN seance se ON f.id_film = se.films_id_film
JOIN salles s ON se.salles_idsalles = s.idsalles
WHERE s.nbrePla BETWEEN 100 AND 200;




 FROM Cinema c
JOIN seance se ON c.idCinema = se.Cinema_idCinema
JOIN films f ON se.films_id_film




SELECT DISTINCT se.Cinema_idCinema AS cinema
FROM seance se
JOIN films f ON se.films_id_film = f.id_film
WHERE f.id_film IN (1, 2);  -- Ajustez cette liste en fonction des ID de vos films Star Wars


 UPDATE films
 SET titre ='Pulp fiction', annéesortie = '1994', genre = 'drame', budget = 8000000, durée = 154
 WHERE id_film = 3;   
 
 --------------------------------------------------------------------Liste des films avec Harrison Ford dans son casting
SELECT f.titre
FROM films f
JOIN role r ON f.id_film = r.films_id_film
JOIN Acteurs a ON r.id_acteurs = a.idActeurs
WHERE a.nom ='Ford' AND a.prenom = 'Harrison';
---------------------------------------------------------------------------Liste des toutes les salles avec un film ayant Bruce Willis ou Harrison Ford dans son casting
SELECT DISTINCT s.numero 
FROM salles s 
JOIN seance se ON s.idsalles = se.salles_idsalles
JOIN films f ON se.films_id_film = f.id_film
JOIN role r ON f.id_film = r.films_id_film
JOIN Acteurs a ON r.id_acteurs = a.idActeurs
WHERE a.nom = 'Ford' AND a.prenom='Harrison'
OR a.nom ='Willis' AND a.prenom = 'Bruce';


-------------------------------------------------------Nombre de places totale pour le cinéma Mégarama
SELECT SUM(nbrePla)
FROM salles sa
JOIN Cinema c ON sa.cinema = c.idCinema
WHERE c.nom = 'Megarama';

------------------------------------------------------Liste des films projetés dans une salle entre 100 et 200 places
SELECT f.titre
FROM films f 
JOIN seance se ON se.films_id_film = f.id_film
JOIN salles sa ON se.salles_idsalles = sa.idsalles
WHERE nbrePla BETWEEN 100 AND 200; 

-----------------------------------------------------------------Tous les cinémas qui ont passé ou vont passer star wars

SELECT DISTINCT c.nom 
FROM Cinema c
JOIN seance se ON se.Cinema_idCinema = c.idCinema
JOIN films f ON se.films_id_film = f.id_film
WHERE titre = 'star wars';

-------------------------------------------------------------------Nombre total de place par cinéma

SELECT cinema, SUM(nbrePla) AS total_places
FROM salles
GROUP BY cinema;

